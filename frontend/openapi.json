{
  "openapi": "3.0.3",
  "info": {
    "title": "MUN 控制中心 API",
    "version": "1.0.0",
    "description": "支持模拟联合国控制中心前端的统一后端 API 规范。"
  },
  "servers": [
    {
      "url": "https://api.mun.local",
      "description": "生产/演示环境"
    },
    {
      "url": "http://backend",
      "description": "本地开发"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "登录与身份管理"
    },
    {
      "name": "Users",
      "description": "后台用户与权限"
    },
    {
      "name": "Venues",
      "description": "会场与会期配置"
    },
    {
      "name": "Delegates",
      "description": "代表与选手相关功能"
    },
    {
      "name": "Display",
      "description": "显示大屏与主持动作"
    },
    {
      "name": "Files",
      "description": "文件流转与发布"
    },
    {
      "name": "Crises",
      "description": "危机事件与反馈"
    },
    {
      "name": "Timeline",
      "description": "时间轴/模拟配置"
    },
    {
      "name": "Messaging",
      "description": "广播与会话消息"
    },
    {
      "name": "Logs",
      "description": "系统日志"
    }
  ],
  "paths": {
    "/api/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "用户登录",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthLoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthLoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "退出当前会话",
        "responses": {
          "204": {
            "description": "退出成功"
          }
        }
      }
    },
    "/api/auth/profile": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "获取当前登录用户信息",
        "responses": {
          "200": {
            "description": "当前用户",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          },
          "401": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/password": {
      "patch": {
        "tags": [
          "Authentication"
        ],
        "summary": "修改密码",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "修改完成"
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "查询用户列表",
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "用户分页列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    },
                    "total": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "创建新用户",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "已创建",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}": {
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "更新用户角色或状态",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新后的用户",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}/reset-password": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "强制重置指定用户密码",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "重置指令已下发"
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/venues": {
      "get": {
        "tags": [
          "Venues"
        ],
        "summary": "列出所有会场及议程",
        "responses": {
          "200": {
            "description": "会场数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Venue"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/venues/{venueId}": {
      "patch": {
        "tags": [
          "Venues"
        ],
        "summary": "更新会场基本信息",
        "parameters": [
          {
            "name": "venueId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateVenueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新会场数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Venue"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/venues/{venueId}/sessions": {
      "post": {
        "tags": [
          "Venues"
        ],
        "summary": "新增议程节点",
        "parameters": [
          {
            "name": "venueId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/timeline/config": {
      "get": {
        "tags": [
          "Timeline"
        ],
        "summary": "获取模拟时间配置",
        "responses": {
          "200": {
            "description": "配置",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimelineConfig"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Timeline"
        ],
        "summary": "更新模拟时间配置",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimelineConfig"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新配置",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimelineConfig"
                }
              }
            }
          }
        }
      }
    },
    "/api/timeline/events": {
      "get": {
        "tags": [
          "Timeline"
        ],
        "summary": "列出模拟事件",
        "responses": {
          "200": {
            "description": "事件列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TimelineEvent"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Timeline"
        ],
        "summary": "新增事件",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTimelineEventRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimelineEvent"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/delegates": {
      "get": {
        "tags": [
          "Delegates"
        ],
        "summary": "查询代表列表",
        "parameters": [
          {
            "name": "bloc",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "代表列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Delegate"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Delegates"
        ],
        "summary": "新增代表/分配国家",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDelegateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "代表信息",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Delegate"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/delegates/{delegateId}": {
      "get": {
        "tags": [
          "Delegates"
        ],
        "summary": "获取单个代表档案",
        "parameters": [
          {
            "name": "delegateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "代表档案",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DelegateProfile"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Delegates"
        ],
        "summary": "更新代表档案",
        "parameters": [
          {
            "name": "delegateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDelegateProfileRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新档案",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DelegateProfile"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/delegates/{delegateId}/attendance": {
      "patch": {
        "tags": [
          "Delegates"
        ],
        "summary": "更新点名状态",
        "parameters": [
          {
            "name": "delegateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttendanceUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新状态",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Delegate"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/delegates/import": {
      "post": {
        "tags": [
          "Delegates"
        ],
        "summary": "批量导入代表",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DelegateImportRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "导入任务已创建"
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/delegates/countries": {
      "get": {
        "tags": [
          "Delegates"
        ],
        "summary": "可用国家列表（发言选择用）",
        "responses": {
          "200": {
            "description": "国家列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/delegate/documents": {
      "get": {
        "tags": [
          "Delegates"
        ],
        "summary": "当前代表上传的文件",
        "responses": {
          "200": {
            "description": "文件列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DelegateDocument"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Delegates"
        ],
        "summary": "上传代表文件",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDelegateDocumentRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "已提交",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DelegateDocument"
                }
              }
            }
          }
        }
      }
    },
    "/api/display/board": {
      "get": {
        "tags": [
          "Display"
        ],
        "summary": "获取显示大屏状态",
        "responses": {
          "200": {
            "description": "大屏数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DisplayBoardState"
                }
              }
            }
          }
        }
      }
    },
    "/api/display/speakers": {
      "post": {
        "tags": [
          "Display"
        ],
        "summary": "添加发言者",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSpeakerRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "新的发言者条目",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Speaker"
                }
              }
            }
          }
        }
      }
    },
    "/api/display/speakers/{speakerId}": {
      "patch": {
        "tags": [
          "Display"
        ],
        "summary": "更新发言者状态或剩余时间",
        "parameters": [
          {
            "name": "speakerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSpeakerRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新后的发言者",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Speaker"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/display/timer": {
      "post": {
        "tags": [
          "Display"
        ],
        "summary": "控制计时器",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimerCommandRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新计时器状态",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "state": {
                      "type": "string"
                    },
                    "remainingSeconds": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/motions": {
      "get": {
        "tags": [
          "Display"
        ],
        "summary": "获取动议定义",
        "responses": {
          "200": {
            "description": "动议列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MotionDefinition"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/motions/decisions": {
      "post": {
        "tags": [
          "Display"
        ],
        "summary": "记录动议结果",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MotionDecisionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "记录已保存"
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/files/submissions": {
      "get": {
        "tags": [
          "Files"
        ],
        "summary": "主席团查看代表提交",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "提交列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FileSubmission"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "代表上传文件",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFileSubmissionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "已提交",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileSubmission"
                }
              }
            }
          }
        }
      }
    },
    "/api/files/submissions/{submissionId}/decision": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "审批代表上传的文件",
        "parameters": [
          {
            "name": "submissionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FileDecisionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新状态",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileSubmission"
                }
              }
            }
          },
          "400": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/files/published": {
      "get": {
        "tags": [
          "Files"
        ],
        "summary": "查询已发布文件",
        "responses": {
          "200": {
            "description": "文件列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManagedFile"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "发布新文件",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PublishFileRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "已发布",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManagedFile"
                }
              }
            }
          }
        }
      }
    },
    "/api/files/published/{fileId}": {
      "patch": {
        "tags": [
          "Files"
        ],
        "summary": "调整已发布文件",
        "parameters": [
          {
            "name": "fileId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PublishFileRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "最新文件信息",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManagedFile"
                }
              }
            }
          }
        }
      }
    },
    "/api/files/reference": {
      "get": {
        "tags": [
          "Files"
        ],
        "summary": "供动议等弹窗引用的文件列表",
        "responses": {
          "200": {
            "description": "可引用文件",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManagedFile"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/crises": {
      "get": {
        "tags": [
          "Crises"
        ],
        "summary": "列出所有危机",
        "responses": {
          "200": {
            "description": "危机列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Crisis"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Crises"
        ],
        "summary": "发布新危机",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCrisisRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "危机详情",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Crisis"
                }
              }
            }
          }
        }
      }
    },
    "/api/crises/{crisisId}": {
      "patch": {
        "tags": [
          "Crises"
        ],
        "summary": "更新危机状态或描述",
        "parameters": [
          {
            "name": "crisisId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCrisisRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "危机详情",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Crisis"
                }
              }
            }
          }
        }
      }
    },
    "/api/crises/{crisisId}/responses": {
      "get": {
        "tags": [
          "Crises"
        ],
        "summary": "查看危机反馈",
        "parameters": [
          {
            "name": "crisisId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "反馈列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CrisisResponse"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Crises"
        ],
        "summary": "提交危机反馈",
        "parameters": [
          {
            "name": "crisisId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCrisisResponseRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "反馈详情",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrisisResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/history": {
      "get": {
        "tags": [
          "Messaging"
        ],
        "summary": "查询广播消息历史",
        "responses": {
          "200": {
            "description": "消息记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageRecord"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/send": {
      "post": {
        "tags": [
          "Messaging"
        ],
        "summary": "发送广播或主席团消息",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "已发送",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageRecord"
                }
              }
            }
          }
        }
      }
    },
    "/api/message-templates": {
      "get": {
        "tags": [
          "Messaging"
        ],
        "summary": "列出消息模板",
        "responses": {
          "200": {
            "description": "模板",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageTemplate"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Messaging"
        ],
        "summary": "创建消息模板",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageTemplateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "模板详情",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageTemplate"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations": {
      "get": {
        "tags": [
          "Messaging"
        ],
        "summary": "列出当前用户的会话",
        "responses": {
          "200": {
            "description": "会话列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Conversation"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversationId}/messages": {
      "get": {
        "tags": [
          "Messaging"
        ],
        "summary": "读取会话消息",
        "parameters": [
          {
            "name": "conversationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "消息列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessage"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Messaging"
        ],
        "summary": "发送会话消息",
        "parameters": [
          {
            "name": "conversationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendChatMessageRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "新消息",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessage"
                }
              }
            }
          }
        }
      }
    },
    "/api/logs": {
      "get": {
        "tags": [
          "Logs"
        ],
        "summary": "查询系统日志",
        "parameters": [
          {
            "name": "level",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "info",
                "warning",
                "error"
              ]
            }
          },
          {
            "name": "start",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "end",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "query",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "日志列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LogRecord"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/logs/export": {
      "post": {
        "tags": [
          "Logs"
        ],
        "summary": "导出日志",
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportLogsRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "导出链接",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "downloadUrl": {
                      "type": "string",
                      "format": "uri"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "code": {
            "type": "string"
          }
        },
        "required": [
          "error",
          "message"
        ]
      },
      "UserProfile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "chair",
              "delegate"
            ]
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "avatarUrl": {
            "type": "string",
            "format": "uri",
            "nullable": true
          },
          "permissions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "id",
          "username",
          "role",
          "email",
          "permissions"
        ]
      },
      "AuthLoginRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          },
          "password": {
            "type": "string",
            "minLength": 8
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "AuthLoginResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserProfile"
          }
        },
        "required": [
          "token",
          "user"
        ]
      },
      "PasswordUpdateRequest": {
        "type": "object",
        "properties": {
          "currentPassword": {
            "type": "string",
            "minLength": 8
          },
          "newPassword": {
            "type": "string",
            "minLength": 12
          }
        },
        "required": [
          "currentPassword",
          "newPassword"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "chair",
              "delegate"
            ]
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "suspended"
            ]
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "name",
          "role",
          "email",
          "status"
        ]
      },
      "CreateUserRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "chair",
              "delegate"
            ]
          }
        },
        "required": [
          "name",
          "email",
          "role"
        ]
      },
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "chair",
              "delegate"
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "suspended"
            ]
          }
        }
      },
      "ResetPasswordRequest": {
        "type": "object",
        "properties": {
          "temporaryPassword": {
            "type": "string",
            "minLength": 12
          }
        },
        "required": [
          "temporaryPassword"
        ]
      },
      "Venue": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "准备中",
              "进行中",
              "已结束"
            ]
          },
          "capacity": {
            "type": "integer"
          },
          "sessions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Session"
            }
          }
        },
        "required": [
          "id",
          "name",
          "location",
          "status",
          "capacity",
          "sessions"
        ]
      },
      "Session": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "time": {
            "type": "string"
          },
          "topic": {
            "type": "string"
          },
          "chair": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "time",
          "topic"
        ]
      },
      "UpdateVenueRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "准备中",
              "进行中",
              "已结束"
            ]
          },
          "capacity": {
            "type": "integer"
          }
        }
      },
      "CreateSessionRequest": {
        "type": "object",
        "properties": {
          "time": {
            "type": "string"
          },
          "topic": {
            "type": "string"
          },
          "chair": {
            "type": "string"
          }
        },
        "required": [
          "time",
          "topic"
        ]
      },
      "TimelineConfig": {
        "type": "object",
        "properties": {
          "anchorLabel": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "speed": {
            "type": "integer",
            "minimum": 1,
            "maximum": 240
          }
        },
        "required": [
          "anchorLabel",
          "speed"
        ]
      },
      "TimelineEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "owner": {
            "type": "string"
          },
          "note": {
            "type": "string"
          },
          "offsetMinutes": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "id",
          "title",
          "offsetMinutes"
        ]
      },
      "CreateTimelineEventRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "owner": {
            "type": "string"
          },
          "note": {
            "type": "string"
          },
          "offsetMinutes": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "title",
          "offsetMinutes"
        ]
      },
      "Delegate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "bloc": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "present",
              "late",
              "absent"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "country",
          "status"
        ]
      },
      "CreateDelegateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "bloc": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "country"
        ]
      },
      "AttendanceUpdateRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "present",
              "late",
              "absent"
            ]
          }
        },
        "required": [
          "status"
        ]
      },
      "DelegateImportRequest": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "enum": [
              "excel",
              "csv"
            ]
          },
          "fileUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "required": [
          "source",
          "fileUrl"
        ]
      },
      "DelegateProfile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "committee": {
            "type": "string"
          },
          "bloc": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "attendance": {
            "type": "string",
            "enum": [
              "已签到",
              "迟到",
              "缺席"
            ]
          },
          "notes": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "country",
          "committee"
        ]
      },
      "UpdateDelegateProfileRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "committee": {
            "type": "string"
          },
          "bloc": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "attendance": {
            "type": "string",
            "enum": [
              "已签到",
              "迟到",
              "缺席"
            ]
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "DelegateDocument": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "立场文件",
              "工作文件"
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "草稿",
              "待审批",
              "已发布"
            ]
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "title",
          "type",
          "status",
          "updatedAt"
        ]
      },
      "CreateDelegateDocumentRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "立场文件",
              "工作文件"
            ]
          },
          "notes": {
            "type": "string"
          },
          "fileUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "required": [
          "title",
          "type",
          "fileUrl"
        ]
      },
      "Speaker": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "delegate": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "waiting",
              "speaking",
              "finished"
            ]
          },
          "remainingSeconds": {
            "type": "integer"
          }
        },
        "required": [
          "id",
          "country",
          "status"
        ]
      },
      "DisplayBoardState": {
        "type": "object",
        "properties": {
          "committee": {
            "type": "string"
          },
          "stats": {
            "type": "object",
            "properties": {
              "delegatesTotal": {
                "type": "integer"
              },
              "twoThirds": {
                "type": "integer"
              },
              "simpleMajority": {
                "type": "integer"
              },
              "twentyPercent": {
                "type": "integer"
              }
            },
            "required": [
              "delegatesTotal",
              "twoThirds",
              "simpleMajority",
              "twentyPercent"
            ]
          },
          "timer": {
            "type": "object",
            "properties": {
              "state": {
                "type": "string",
                "enum": [
                  "idle",
                  "running",
                  "paused"
                ]
              },
              "remainingSeconds": {
                "type": "integer"
              }
            },
            "required": [
              "state",
              "remainingSeconds"
            ]
          },
          "speakerQueue": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Speaker"
            }
          },
          "history": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time"
                }
              },
              "required": [
                "title",
                "description"
              ]
            }
          }
        },
        "required": [
          "committee",
          "stats",
          "timer",
          "speakerQueue",
          "history"
        ]
      },
      "CreateSpeakerRequest": {
        "type": "object",
        "properties": {
          "country": {
            "type": "string"
          },
          "delegate": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        },
        "required": [
          "country"
        ]
      },
      "UpdateSpeakerRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "waiting",
              "speaking",
              "finished"
            ]
          },
          "remainingSeconds": {
            "type": "integer"
          }
        }
      },
      "TimerCommandRequest": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "enum": [
              "start",
              "pause",
              "resume",
              "reset"
            ]
          },
          "durationSeconds": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "action"
        ]
      },
      "MotionDefinition": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "requires": {
            "type": "object",
            "properties": {
              "country": {
                "type": "boolean"
              },
              "unitTime": {
                "type": "boolean"
              },
              "totalTime": {
                "type": "boolean"
              }
            }
          }
        },
        "required": [
          "id",
          "title",
          "requires"
        ]
      },
      "MotionDecisionRequest": {
        "type": "object",
        "properties": {
          "motionId": {
            "type": "string"
          },
          "result": {
            "type": "string",
            "enum": [
              "passed",
              "failed"
            ]
          },
          "country": {
            "type": "string"
          },
          "unitTime": {
            "type": "integer"
          },
          "totalTime": {
            "type": "integer"
          },
          "notes": {
            "type": "string"
          },
          "linkedFileId": {
            "type": "string"
          }
        },
        "required": [
          "motionId",
          "result"
        ]
      },
      "FileSubmission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "committee": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": [
              "立场文件",
              "工作文件"
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "approved",
              "rejected"
            ]
          },
          "submittedAt": {
            "type": "string",
            "format": "date-time"
          },
          "summary": {
            "type": "string"
          },
          "fileUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "required": [
          "id",
          "title",
          "author",
          "committee",
          "category",
          "status",
          "submittedAt"
        ]
      },
      "CreateFileSubmissionRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": [
              "立场文件",
              "工作文件"
            ]
          },
          "summary": {
            "type": "string"
          },
          "fileUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "required": [
          "title",
          "category",
          "fileUrl"
        ]
      },
      "FileDecisionRequest": {
        "type": "object",
        "properties": {
          "decision": {
            "type": "string",
            "enum": [
              "approved",
              "rejected"
            ]
          },
          "remarks": {
            "type": "string"
          }
        },
        "required": [
          "decision"
        ]
      },
      "ManagedFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "visibility": {
            "type": "string",
            "enum": [
              "全体可见",
              "主席团可见",
              "指定会场"
            ]
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "owner": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "category",
          "visibility",
          "updatedAt",
          "owner"
        ]
      },
      "PublishFileRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "visibility": {
            "type": "string",
            "enum": [
              "全体可见",
              "主席团可见",
              "指定会场"
            ]
          },
          "notes": {
            "type": "string"
          },
          "fileUrl": {
            "type": "string",
            "format": "uri"
          }
        },
        "required": [
          "title",
          "category",
          "visibility",
          "fileUrl"
        ]
      },
      "Crisis": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "severity": {
            "type": "string",
            "enum": [
              "低",
              "中",
              "高"
            ]
          },
          "description": {
            "type": "string"
          },
          "publishedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string",
            "enum": [
              "开放反馈",
              "已结案"
            ]
          }
        },
        "required": [
          "id",
          "title",
          "severity",
          "description",
          "status"
        ]
      },
      "CreateCrisisRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "severity": {
            "type": "string",
            "enum": [
              "低",
              "中",
              "高"
            ]
          },
          "description": {
            "type": "string"
          }
        },
        "required": [
          "title",
          "severity",
          "description"
        ]
      },
      "UpdateCrisisRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "开放反馈",
              "已结案"
            ]
          },
          "description": {
            "type": "string"
          }
        }
      },
      "CrisisResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "crisisId": {
            "type": "string"
          },
          "summary": {
            "type": "string"
          },
          "actions": {
            "type": "string"
          },
          "resources": {
            "type": "string"
          },
          "submittedBy": {
            "type": "string"
          },
          "submittedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "crisisId",
          "summary",
          "submittedBy",
          "submittedAt"
        ]
      },
      "CreateCrisisResponseRequest": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "actions": {
            "type": "string"
          },
          "resources": {
            "type": "string"
          }
        },
        "required": [
          "summary"
        ]
      },
      "MessageRecord": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "channel": {
            "type": "string",
            "enum": [
              "全体广播",
              "主席团内线",
              "指定会场"
            ]
          },
          "target": {
            "type": "string",
            "nullable": true
          },
          "sender": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "time": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "channel",
          "sender",
          "content",
          "time"
        ]
      },
      "SendMessageRequest": {
        "type": "object",
        "properties": {
          "channel": {
            "type": "string",
            "enum": [
              "全体广播",
              "主席团内线",
              "指定会场"
            ]
          },
          "target": {
            "type": "string"
          },
          "content": {
            "type": "string"
          }
        },
        "required": [
          "channel",
          "content"
        ]
      },
      "MessageTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "title",
          "content"
        ]
      },
      "CreateMessageTemplateRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          }
        },
        "required": [
          "title",
          "content"
        ]
      },
      "Conversation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "participants": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "unread": {
            "type": "integer"
          },
          "lastMessagePreview": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "participants"
        ]
      },
      "ChatMessage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "sender": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "time": {
            "type": "string",
            "format": "date-time"
          },
          "direction": {
            "type": "string",
            "enum": [
              "incoming",
              "outgoing"
            ]
          }
        },
        "required": [
          "id",
          "sender",
          "content",
          "time",
          "direction"
        ]
      },
      "SendChatMessageRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          }
        },
        "required": [
          "content"
        ]
      },
      "LogRecord": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "operator": {
            "type": "string"
          },
          "action": {
            "type": "string"
          },
          "target": {
            "type": "string"
          },
          "level": {
            "type": "string",
            "enum": [
              "info",
              "warning",
              "error"
            ]
          },
          "time": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "operator",
          "action",
          "level",
          "time"
        ]
      },
      "ExportLogsRequest": {
        "type": "object",
        "properties": {
          "level": {
            "type": "string",
            "enum": [
              "info",
              "warning",
              "error"
            ]
          },
          "startDate": {
            "type": "string",
            "format": "date"
          },
          "endDate": {
            "type": "string",
            "format": "date"
          },
          "format": {
            "type": "string",
            "enum": [
              "csv",
              "xlsx"
            ]
          }
        }
      }
    }
  }
}